# 專案移交與開發指南 (Handover Guide)

這份文件旨在協助您在不同設備（如家裡電腦）接續開發此專案，並讓新的 AI 助理能快速進入狀況。

## 🚀 快速啟動
1.  **複製專案**：使用 Git 下載您的 GitHub 儲存庫。
2.  **安裝依賴**：`npm install`
3.  **啟動開發**：`npm run dev`
4.  **連結後端**：在網頁的 **「資料來源」** 頁面貼上您的 Google Apps Script Web App URL。

---

## 🏗️ 系統架構與技術決策
-   **前端**：React + Vite + Tailwind CSS。
-   **後端 (GAS)**：Google Apps Script 作為資料中繼站，將試算表轉為 JSON API。
-   **市場數據**：不經過 GAS，前端透過 `api.allorigins.win` 代理直接從 Yahoo Finance 抓取台股加權指數 (TAIEX)。
-   **視覺風格**：
    -   遵循**台灣市場配色**（紅漲、綠跌）。
    -   深色模式設計，使用玻璃擬物化 (Glassmorphism) 效果。
-   **狀態儲存**：GAS URL 儲存於瀏覽器的 `localStorage` 中。

---

## 📊 試算表結構要求 (重要)
為確保「趨勢分析」與「績效分析」正常運作，您的 Google Sheet **「歷史現值」** 工作表必須包含以下表頭（名稱需完全一致）：
-   `日期`、`總值`、`累積成長`
-   `回撤幅度`、`夏普比率`、`年化波動率`
-   `年化報酬率`、`索提諾比率`、`Calmar Ratio`、`最大回撤 (MDD)`、`下行差額`、`日報酬率`、`累計總值高峰`

---

## 📝 當前進度與 AI 上下文 (Memory Sync)
如果您在另一台電腦使用 AI 助理開發，請直接將此段落或本文件提供給 AI：

### **已完成功能 (Completed)**
1.  **Dashboard**：總資產概覽、今日漲跌（與昨日歷史數據比較）。
2.  **趨勢分析 (Trend Analysis)**：包含資產成長走勢、水下圖 (Drawdown)、品質走勢 (Sharpe/Vol)。
3.  **績效分析 (Performance)**：分門別類的 10+ 項投資指標卡片。
4.  **資料來源頁面**：獨立管理 GAS 連線。
5.  **後端優化**：GAS 支援高效能載入（歷史資料瘦身、僅讀取最新統計列）。

### **待辦事項 (Pending/Next Steps)**
-   [ ] **個股明細擴充**：目前的個股清單僅顯示現值，可考慮加入歷史成本與單一股票報酬率。
-   [ ] **目標管理**：設定資產目標金額並顯現在 Dashboard。
-   [ ] **匯率自動轉換**：目前個股現值由 Sheet 計算，未來可考慮前端自動處理台美股匯率。

---

## 🛠️ 維護紀錄
-   修正了 `Icons.Info` 缺失導致的渲染崩潰。
-   優化了 TAIEX 數據抓取邏輯，解決 `NaN` 錯誤。
-   將夏普比率改為數值顯示（非百分比）。
